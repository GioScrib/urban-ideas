import{a as X}from"./chunk-AUP5YZYJ.js";import{a as L,f as A,g as $,h as q,i as J,q as Q,r as W}from"./chunk-CUVUES7D.js";import{a as B,c as R}from"./chunk-EXW6ZDO3.js";import{n as G}from"./chunk-V33HW3GU.js";import{J as H}from"./chunk-3672ZLHB.js";import{$a as V,Ba as E,Ca as U,Ea as I,Fa as k,Ga as f,Ha as o,Ia as s,Ja as P,Ka as l,La as m,Ma as N,N as _,Na as w,Oa as T,P as u,Pa as c,Q as h,Qb as z,Ra as D,Sb as K,Tb as F,X as g,db as r,eb as C,fa as S,ga as a,jb as j,pb as b,ra as x,sb as M,tb as O}from"./chunk-B7UG6L7Y.js";var y=class i{searchKeyValue=M();gridCols=M();newUser=M();onClickGridCols(e){console.log("user-list-header says grid cols clicked: ",e),this.gridCols.emit(e)}onClickNewUser(){console.log("user-list-header says: new user clicked"),this.newUser.emit()}onSearchKey(e){console.log("user-details-header says: emitting",e),this.searchKeyValue.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-user-details-page-header"]],outputs:{searchKeyValue:"searchKeyValue",gridCols:"gridCols",newUser:"newUser"},decls:22,vars:1,consts:[["gridMenu","matMenu"],[1,"mat-toolbar-container"],[1,"mat-toolbar"],[1,"left-container"],["routerLink","/users"],["matIconName","arrow_back","matButtonContent","back","backGroundColor","#ADD8E6","textColor","#00008B","waveColor","#00008B"],[1,"right-container"],[3,"searchKey"],[1,"right-button-container"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"grid-button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(t,n){if(t&1){let d=w();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),P(4,"app-custom-button",5),s()(),o(5,"div",6)(6,"app-custom-search",7),c("searchKey",function(te){return u(d),h(n.onSearchKey(te))}),s(),o(7,"div",8)(8,"button",9)(9,"mat-icon"),r(10,"grid_view"),s()(),o(11,"mat-menu",null,0)(13,"button",10),c("click",function(){return u(d),h(n.onClickGridCols(1))}),o(14,"span"),r(15,"1 col"),s()(),o(16,"button",10),c("click",function(){return u(d),h(n.onClickGridCols(2))}),o(17,"span"),r(18,"2 cols"),s()(),o(19,"button",10),c("click",function(){return u(d),h(n.onClickGridCols(3))}),o(20,"span"),r(21,"3 cols"),s()()()()()()()}if(t&2){let d=V(12);a(8),f("matMenuTriggerFor",d)}},dependencies:[B,H,q,$,A,G,R,F,J],styles:[".mat-toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:0 10px}.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;border-radius:12px;margin-top:15px;min-height:65px;width:99%;max-width:100%;box-shadow:0 2px 3px #0000004d;padding:8px 12px;flex-wrap:wrap}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-shrink:0}.right-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;flex-wrap:wrap;gap:8px}.funct-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:8px;flex-wrap:wrap}.new-user-button[_ngcontent-%COMP%]{margin:0}.right-button-container[_ngcontent-%COMP%]{display:flex;gap:5px}.elements-button[_ngcontent-%COMP%], .grid-button[_ngcontent-%COMP%]{box-shadow:0 2px 3px #0000004d;margin:0}@media (max-width: 500px){.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px 8px}.left-container[_ngcontent-%COMP%]{width:100%;justify-content:center}.right-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px;gap:10px}.funct-container[_ngcontent-%COMP%]{width:100%;justify-content:center;gap:10px}.right-button-container[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var v=class i{user=O.required();usrImg=O("");static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-user-details-page-card"]],inputs:{user:[1,"user"],usrImg:[1,"usrImg"]},decls:24,vars:6,consts:[[1,"card-container"],[1,"card-header"],[3,"src"],[1,"card-details"],[1,"card-row"],[1,"detail-name"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),N(2,"img",2),l(3,"div",3)(4,"div",4)(5,"p",5),r(6,"Name: "),m(),l(7,"p"),r(8),m()(),l(9,"div",4)(10,"p",5),r(11,"Email: "),m(),l(12,"p"),r(13),m()(),l(14,"div",4)(15,"p",5),r(16,"Gender: "),m(),l(17,"p"),r(18),m()(),l(19,"div",4)(20,"p",5),r(21,"Status:"),m(),l(22,"p"),r(23),m()()()()()),t&2&&(a(2),T("src",j(n.usrImg()),S),a(6),C(n.user().name),a(5),C(n.user().email),a(5),C(n.user().gender),a(5),C(n.user().status))},styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin:20px;padding:0 10px}.card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:99%;max-width:100%;justify-content:space-between;align-items:center;background-color:#fff8f8;border-radius:15px;box-shadow:0 2px 3px #0000004d;padding:20px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px;margin-left:10px;border-radius:15px;box-shadow:0 2px 3px #0000004d;flex-shrink:0}.card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;justify-content:space-around;gap:10px}.card-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:10px;padding:12px 20px;border-radius:15px;box-shadow:0 2px 3px #0000004d;word-wrap:break-word}.card-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;word-break:break-word}.detail-name[_ngcontent-%COMP%]{margin-right:20px;font-size:16px;font-weight:700;letter-spacing:1px;flex-shrink:0}@media (max-width: 479px){.card-container[_ngcontent-%COMP%]{margin:10px;padding:0 5px}.card-header[_ngcontent-%COMP%]{flex-direction:column;padding:15px 10px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:120px;margin:0 0 15px}.card-details[_ngcontent-%COMP%]{width:100%}.card-row[_ngcontent-%COMP%]{flex-direction:column;margin:5px 0;padding:10px;text-align:center}.detail-name[_ngcontent-%COMP%]{margin-right:0;margin-bottom:5px;font-size:14px}.card-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.detail-name){font-size:14px}}@media (min-width: 480px) and (max-width: 767px){.card-container[_ngcontent-%COMP%]{margin:15px}.card-header[_ngcontent-%COMP%]{flex-direction:column;padding:15px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:150px;margin:0 0 15px}.card-details[_ngcontent-%COMP%]{width:100%}.card-row[_ngcontent-%COMP%]{padding:10px 15px}}@media (min-width: 768px) and (max-width: 1023px){.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:150px}.card-details[_ngcontent-%COMP%]{width:60%}}"]})};var ne=(i,e)=>e.id;function ie(i,e){i&1&&(o(0,"div",2)(1,"h2"),r(2,"No match found"),s()())}function oe(i,e){if(i&1){let t=w();o(0,"app-user-post-card",6),c("clickComments",function(){u(t);let d=D(2);return h(d.onClickComment())}),s()}if(i&2){let t=e.$implicit;f("post",t)}}function re(i,e){if(i&1&&(o(0,"app-custom-grid",3),I(1,oe,1,1,"app-user-post-card",5,ne),s()),i&2){let t=D();f("gridCols",t.gridCols()),a(),k(t.filteredPosts())}}var ee=class i{apiService=_(L);router=_(K);activatedRoute=_(z);user;userImg;allPosts=g([]);searchTerm=g("");pageIndex=g(0);pageSize=g(5);allComments=g([]);gridCols=g(2);isLoading=g(!0);searchedPosts=b(()=>{let e=this.searchTerm().toLowerCase();return e?this.allPosts().filter(t=>t.title.includes(e)||t.body.includes(e)):this.allPosts()});filteredPosts=b(()=>{let e=this.searchedPosts(),t=this.pageSize()*this.pageIndex(),n=t+this.pageSize();return e.slice(t,n)});totalPosts=b(()=>this.searchedPosts().length);get page(){return this.pageIndex()}get per_page(){return this.pageSize()}ngOnInit(){let e=this.activatedRoute.snapshot.paramMap.get("id");this.apiService.getUser(Number.parseInt(e||"0")).subscribe(t=>{this.user=t,this.userImg=this.apiService.getImgForUser(this.user.id),console.log("User details says: user fetched:",this.user)}),this.apiService.getUserPosts(Number.parseInt(e||"0")).subscribe({next:t=>{this.allPosts.set(t),console.log("User details component says: posts fetched",this.allPosts())},complete:()=>{this.isLoading.set(!1)}}),console.log("User details component loaded for user with id: ",e)}onGridCols(e){this.gridCols.set(e),console.log("user-details-page says, set gridCols value with: ",e)}onClickComment(){}onSearchKeyValue(e){this.searchTerm.set(e),this.pageIndex.set(0),console.log("user-details-page says: search term set to ",e)}onPageChange(e){this.pageSize.set(e.pageSize),this.pageIndex.set(e.pageIndex),console.log("user-details-page says: page changed to index ",e.pageIndex," with size ",e.pageSize)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-user-details-page"]],decls:6,vars:5,consts:[[3,"gridCols","searchKeyValue"],[3,"user","usrImg"],[2,"display","flex","justify-content","center","align-items","center","height","50vh"],[3,"gridCols"],[3,"pageChange","pageSize","length"],[3,"post"],[3,"clickComments","post"]],template:function(t,n){t&1&&(o(0,"app-user-details-page-header",0),c("gridCols",function(p){return n.onGridCols(p)})("searchKeyValue",function(p){return n.onSearchKeyValue(p)}),s(),P(1,"app-user-details-page-card",1),E(2,ie,3,0,"div",2)(3,re,3,1,"app-custom-grid",3),o(4,"footer")(5,"app-custom-paginator",4),c("pageChange",function(p){return n.onPageChange(p)}),s()()),t&2&&(a(),f("user",n.user)("usrImg",n.userImg),a(),U(!n.isLoading()&&n.filteredPosts().length===0?2:3),a(3),f("pageSize",n.per_page)("length",n.totalPosts()))},dependencies:[v,y,Q,X,W],styles:["[_nghost-%COMP%]{display:block;padding-bottom:100px}@media (max-width: 479px){[_nghost-%COMP%]{padding-bottom:120px}}@media (min-width: 480px) and (max-width: 767px){[_nghost-%COMP%]{padding-bottom:110px}}"]})};export{ee as UserDetailsPageComponent};
