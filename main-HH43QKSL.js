import{a as l}from"./chunk-Q2N5RVWW.js";import{b as tt,c as ot}from"./chunk-EXW6ZDO3.js";import{G as v,M as Y,f as X}from"./chunk-3672ZLHB.js";import{Eb as V,Ga as I,Gb as G,Ha as b,Ia as h,Ib as U,J as w,Ja as s,K as x,Lb as Q,M as d,Mb as q,N as i,Na as k,Ob as W,P as y,Pa as N,Pb as Z,Q as _,Ra as j,Rb as $,Sa as E,Sb as c,Ta as g,U as A,Ua as P,Ub as J,Vb as K,Wa as F,Xa as O,_ as T,bb as z,cb as B,db as L,na as f,nb as H,ra as n,sa as R,ta as S,va as D}from"./chunk-B7UG6L7Y.js";var m=class t{constructor(r,e){this.router=r;this.authService=e}canActivate(){let r=this.authService.isAuthenticated();return r||(console.log("AuthGuard dice: no token"),this.router.navigate(["/auth"]).then(()=>null)),console.log("AuthGuard dice: "+r),r}static \u0275fac=function(e){return new(e||t)(d(c),d(l))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var et=[{path:"auth",loadChildren:()=>import("./chunk-UOXBNNKP.js").then(t=>t.AuthModule)},{path:"users",canActivate:[m],loadChildren:()=>import("./chunk-72KOJYSL.js").then(t=>t.UsersModule)},{path:"posts",canActivate:[m],loadChildren:()=>import("./chunk-EM2BW7AF.js").then(t=>t.PostsModule)},{path:"",pathMatch:"full",redirectTo:"users"},{path:"**",redirectTo:"users"}];var rt=(t,r)=>{let o=i(l).getToken(),a=o?t.clone({setHeaders:{Authorization:`Bearer ${o}`}}):t;return console.log("AuthInterceptor dice: "),console.log(a),r(a)};var at={providers:[H({eventCoalescing:!0}),J(et),Z(W()),Q(q([rt]))]};var ct=["*",[["mat-toolbar-row"]]],pt=["*","mat-toolbar-row"],ut=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275dir=S({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),it=(()=>{class t{_elementRef=i(T);_platform=i(X);_document=i(A);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=n({type:t,selectors:[["mat-toolbar"]],contentQueries:function(o,a,lt){if(o&1&&P(lt,ut,5),o&2){let C;F(C=O())&&(a._toolbarRows=C)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,a){o&2&&(B(a.color?"mat-"+a.color:""),z("mat-toolbar-multiple-rows",a._toolbarRows.length>0)("mat-toolbar-single-row",a._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:pt,decls:2,vars:0,template:function(o,a){o&1&&(E(ct),g(0),g(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return t})();var nt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=R({type:t});static \u0275inj=x({imports:[v,v]})}return t})();function bt(t,r){if(t&1){let e=k();b(0,"mat-toolbar",1)(1,"span",2),L(2,"Urban Ideas"),h(),s(3,"span",3),b(4,"app-custom-button",4),N("click",function(){y(e);let a=j();return _(a.onLogout())}),h()()}}var p=class t{constructor(r,e){this.authService=r;this.router=e}onLogout(){this.authService.logout()}isLoginPage(){return this.router.url==="/auth"||this.router.url.startsWith("/auth/")}static \u0275fac=function(e){return new(e||t)(f(l),f(c))};static \u0275cmp=n({type:t,selectors:[["app-toolbar"]],decls:1,vars:1,consts:[["color","primary",4,"ngIf"],["color","primary"],[1,"toolbar-title"],[1,"toolbar-spacer"],["matIconName","logout","matButtonContent","Logout","backGroundColor","#FFD9E1","textColor","#8F0045","waveColor","#8F0045",3,"click"]],template:function(e,o){e&1&&D(0,bt,5,0,"mat-toolbar",0),e&2&&I("ngIf",o.authService.isAuthenticated()&&!o.isLoginPage())},dependencies:[G,V,nt,it,Y,tt,K,ot],styles:[".toolbar-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;cursor:pointer}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}button[_ngcontent-%COMP%]{margin-left:8px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}button.active[_ngcontent-%COMP%]{background-color:#ffffff1a}"]})};var u=class t{title="urban-ideas";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=n({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,o){e&1&&s(0,"app-toolbar")(1,"router-outlet")},dependencies:[$,p],encapsulation:2})};U(u,at).catch(t=>console.error(t));
