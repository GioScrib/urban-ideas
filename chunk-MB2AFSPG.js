import{a as Q}from"./chunk-NA4BR2D6.js";import{a as L,g as B,h as R,m as z,n as A,o as $,p as q,v as J}from"./chunk-YXTKP4I4.js";import{$ as H,L as G}from"./chunk-YBMRMBKT.js";import{$a as n,Aa as k,Ba as I,Ca as f,Da as i,Ea as a,Fa as _,Ga as l,Ha as p,Ia as V,Ja as w,Ka as T,La as c,Lb as j,M as h,Na as v,Nb as K,O as g,Ob as F,P as u,V as y,Xa as E,ab as C,da as D,ea as s,fb as N,ob as b,pa as x,pb as O,ya as U,za as S}from"./chunk-TZHLYIMN.js";var M=class r{searchKeyValue=b();gridCols=b();newUser=b();onClickGridCols(e){console.log("user-list-header says grid cols clicked: ",e),this.gridCols.emit(e)}onClickNewUser(){console.log("user-list-header says: new user clicked"),this.newUser.emit()}onSearchKey(e){console.log("user-details-header says: emitting",e),this.searchKeyValue.emit(e)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["app-user-details-page-header"]],outputs:{searchKeyValue:"searchKeyValue",gridCols:"gridCols",newUser:"newUser"},decls:36,vars:2,consts:[["elementsMenu","matMenu"],["gridMenu","matMenu"],[1,"mat-toolbar-container"],[1,"mat-toolbar"],[1,"left-container"],["routerLink","/users"],["matIconName","arrow_back","matButtonContent","back","backGroundColor","#ADD8E6","textColor","#00008B","waveColor","#00008B"],[1,"right-container"],[3,"searchKey"],[1,"right-button-container"],["mat-icon-button","","aria-label","Example icon-button with a menu",1,"elements-button",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"grid-button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(t,o){if(t&1){let d=w();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"a",5),_(4,"app-custom-button",6),a()(),i(5,"div",7)(6,"app-custom-search",8),c("searchKey",function(Z){return g(d),u(o.onSearchKey(Z))}),a(),i(7,"div",9)(8,"button",10)(9,"mat-icon"),n(10,"more_vert"),a()(),i(11,"mat-menu",null,0)(13,"button",11)(14,"span"),n(15,"10 elementi"),a()(),i(16,"button",11)(17,"span"),n(18,"20 elementi"),a()(),i(19,"button",11)(20,"span"),n(21,"30 elementi"),a()()(),i(22,"button",12)(23,"mat-icon"),n(24,"grid_view"),a()(),i(25,"mat-menu",null,1)(27,"button",13),c("click",function(){return g(d),u(o.onClickGridCols(1))}),i(28,"span"),n(29,"1 col"),a()(),i(30,"button",13),c("click",function(){return g(d),u(o.onClickGridCols(2))}),i(31,"span"),n(32,"2 cols"),a()(),i(33,"button",13),c("click",function(){return g(d),u(o.onClickGridCols(3))}),i(34,"span"),n(35,"3 cols"),a()()()()()()()}if(t&2){let d=E(12),m=E(26);s(8),f("matMenuTriggerFor",d),s(14),f("matMenuTriggerFor",m)}},dependencies:[B,H,$,A,z,G,R,F,q],styles:[".mat-toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:0 10px}.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;border-radius:12px;margin-top:15px;min-height:65px;width:99%;max-width:100%;box-shadow:0 2px 3px #0000004d;padding:8px 12px;flex-wrap:wrap}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-shrink:0}.right-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;flex-wrap:wrap;gap:8px}.funct-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:8px;flex-wrap:wrap}.new-user-button[_ngcontent-%COMP%]{margin:0}.right-button-container[_ngcontent-%COMP%]{display:flex;gap:5px}.elements-button[_ngcontent-%COMP%], .grid-button[_ngcontent-%COMP%]{box-shadow:0 2px 3px #0000004d;margin:0}@media (max-width: 500px){.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px 8px}.left-container[_ngcontent-%COMP%]{width:100%;justify-content:center}.right-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px;gap:10px}.funct-container[_ngcontent-%COMP%]{width:100%;justify-content:center;gap:10px}.right-button-container[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var P=class r{user=O.required();usrImg=O("");static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["app-user-details-page-card"]],inputs:{user:[1,"user"],usrImg:[1,"usrImg"]},decls:24,vars:6,consts:[[1,"card-container"],[1,"card-header"],[3,"src"],[1,"card-details"],[1,"card-row"],[1,"detail-name"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),V(2,"img",2),l(3,"div",3)(4,"div",4)(5,"p",5),n(6,"Name: "),p(),l(7,"p"),n(8),p()(),l(9,"div",4)(10,"p",5),n(11,"Email: "),p(),l(12,"p"),n(13),p()(),l(14,"div",4)(15,"p",5),n(16,"Gender: "),p(),l(17,"p"),n(18),p()(),l(19,"div",4)(20,"p",5),n(21,"Status:"),p(),l(22,"p"),n(23),p()()()()()),t&2&&(s(2),T("src",N(o.usrImg()),D),s(6),C(o.user().name),s(5),C(o.user().email),s(5),C(o.user().gender),s(5),C(o.user().status))},styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin:20px;padding:0 10px}.card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:99%;max-width:100%;justify-content:space-between;align-items:center;background-color:#fff8f8;border-radius:15px;box-shadow:0 2px 3px #0000004d;padding:20px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px;margin-left:10px;border-radius:15px;box-shadow:0 2px 3px #0000004d;flex-shrink:0}.card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;justify-content:space-around;gap:10px}.card-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:10px;padding:12px 20px;border-radius:15px;box-shadow:0 2px 3px #0000004d;word-wrap:break-word}.card-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;word-break:break-word}.detail-name[_ngcontent-%COMP%]{margin-right:20px;font-size:16px;font-weight:700;letter-spacing:1px;flex-shrink:0}@media (max-width: 479px){.card-container[_ngcontent-%COMP%]{margin:10px;padding:0 5px}.card-header[_ngcontent-%COMP%]{flex-direction:column;padding:15px 10px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:120px;margin:0 0 15px}.card-details[_ngcontent-%COMP%]{width:100%}.card-row[_ngcontent-%COMP%]{flex-direction:column;margin:5px 0;padding:10px;text-align:center}.detail-name[_ngcontent-%COMP%]{margin-right:0;margin-bottom:5px;font-size:14px}.card-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.detail-name){font-size:14px}}@media (min-width: 480px) and (max-width: 767px){.card-container[_ngcontent-%COMP%]{margin:15px}.card-header[_ngcontent-%COMP%]{flex-direction:column;padding:15px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:150px;margin:0 0 15px}.card-details[_ngcontent-%COMP%]{width:100%}.card-row[_ngcontent-%COMP%]{padding:10px 15px}}@media (min-width: 768px) and (max-width: 1023px){.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:150px}.card-details[_ngcontent-%COMP%]{width:60%}}"]})};var ee=(r,e)=>e.id;function te(r,e){r&1&&(i(0,"div",2)(1,"h2"),n(2,"No match found"),a()())}function ne(r,e){if(r&1){let t=w();i(0,"app-user-post-card",5),c("clickComments",function(){g(t);let d=v(2);return u(d.onClickComment())}),a()}if(r&2){let t=e.$implicit;f("post",t)}}function ie(r,e){if(r&1&&(i(0,"app-custom-grid",3),k(1,ne,1,1,"app-user-post-card",4,ee),a()),r&2){let t=v();f("gridCols",t.gridCols),s(),I(t.filteredPosts)}}var Y=class r{apiService=h(L);router=h(K);activatedRoute=h(j);user;userImg;posts=y([]);filteredPosts=[];comments=y([]);gridCols=2;postLoading=!0;ngOnInit(){let e=this.activatedRoute.snapshot.paramMap.get("id");this.apiService.getUser(Number.parseInt(e||"0")).subscribe(t=>{this.user=t,this.userImg=this.apiService.getImgForUser(this.user.id),console.log("User details says: user fetched:",this.user)}),this.apiService.getUserPosts(Number.parseInt(e||"0")).subscribe({next:t=>{this.posts.set(t),this.filteredPosts=this.posts(),console.log("User details component says: posts fetched",this.posts())},complete:()=>{this.postLoading=!1}}),console.log("User details component loaded for user with id: ",e)}onGridCols(e){this.gridCols=e,console.log("user-details-page says, set gridCols value with: ",e)}onClickComment(){}onSearchKeyValue(e){console.log("user-details-page says: search key value",e),(!e||e.length===0)&&(this.filteredPosts=this.posts()),this.filteredPosts=this.posts().filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.body.toLowerCase().includes(e.toLowerCase()))}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["app-user-details-page"]],decls:4,vars:3,consts:[[3,"gridCols","searchKeyValue"],[3,"user","usrImg"],[2,"display","flex","justify-content","center","align-items","center","height","50vh"],[3,"gridCols"],[3,"post"],[3,"clickComments","post"]],template:function(t,o){t&1&&(i(0,"app-user-details-page-header",0),c("gridCols",function(m){return o.onGridCols(m)})("searchKeyValue",function(m){return o.onSearchKeyValue(m)}),a(),_(1,"app-user-details-page-card",1),U(2,te,3,0,"div",2)(3,ie,3,1,"app-custom-grid",3)),t&2&&(s(),f("user",o.user)("usrImg",o.userImg),s(),S(o.filteredPosts.length===0?2:3))},dependencies:[P,M,J,Q],encapsulation:2})};export{Y as UserDetailsPageComponent};
