import{a as l}from"./chunk-JTPWGEAM.js";import{b as rt,c as at}from"./chunk-NYYPTCT3.js";import{G as M,M as et,f as ot}from"./chunk-D62WOVE4.js";import{Eb as Q,Ga as N,Gb as W,Ha as h,Ia as g,Ib as q,J as _,Ja as c,K as A,Lb as Z,M as f,Mb as $,N as i,Na as j,Ob as J,P as T,Pa as P,Pb as K,Q as R,Ra as F,Rb as X,Sa as O,Sb as p,Ta as v,U as S,Ua as H,Ub as Y,Vb as tt,Wa as z,Xa as B,_ as D,bb as L,cb as V,db as G,k as x,na as b,nb as U,ra as n,sa as I,t as y,ta as E,va as k}from"./chunk-XTFFYJHZ.js";var s=class t{constructor(r,o){this.router=r;this.authService=o}canActivate(){let r=this.authService.isAuthenticated();return r||(console.log("AuthGuard dice: no token"),this.router.navigate(["/auth"]).then(()=>null)),console.log("AuthGuard dice: "+r),r}static \u0275fac=function(o){return new(o||t)(f(p),f(l))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var it=[{path:"auth",loadChildren:()=>import("./chunk-GJHL2SQL.js").then(t=>t.AuthModule)},{path:"users",canActivate:[s],loadChildren:()=>import("./chunk-IY7ROKZ2.js").then(t=>t.UsersModule)},{path:"posts",canActivate:[s],loadChildren:()=>import("./chunk-FRVEEAXM.js").then(t=>t.PostsModule)},{path:"",pathMatch:"full",redirectTo:"users"},{path:"**",redirectTo:"users"}];var nt=(t,r)=>{let o=i(l),e=o.getToken(),a=e?t.clone({setHeaders:{Authorization:`Bearer ${e}`}}):t;return r(a).pipe(y(m=>(m.status===401&&o.logoutWithError("Il token inserito non \xE8 valido o \xE8 scaduto. Effettua nuovamente il login."),x(()=>m))))};var lt={providers:[U({eventCoalescing:!0}),Y(it),K(J()),Z($([nt]))]};var ut=["*",[["mat-toolbar-row"]]],dt=["*","mat-toolbar-row"],ft=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275dir=E({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),st=(()=>{class t{_elementRef=i(D);_platform=i(ot);_document=i(S);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=n({type:t,selectors:[["mat-toolbar"]],contentQueries:function(e,a,m){if(e&1&&H(m,ft,5),e&2){let w;z(w=B())&&(a._toolbarRows=w)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(e,a){e&2&&(V(a.color?"mat-"+a.color:""),L("mat-toolbar-multiple-rows",a._toolbarRows.length>0)("mat-toolbar-single-row",a._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:dt,decls:2,vars:0,template:function(e,a){e&1&&(O(ut),v(0),v(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return t})();var mt=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=I({type:t});static \u0275inj=A({imports:[M,M]})}return t})();function gt(t,r){if(t&1){let o=j();h(0,"mat-toolbar",1)(1,"span",2),G(2,"Urban Ideas"),g(),c(3,"span",3),h(4,"app-custom-button",4),P("click",function(){T(o);let a=F();return R(a.onLogout())}),g()()}}var u=class t{constructor(r,o){this.authService=r;this.router=o}onLogout(){this.authService.logout()}isLoginPage(){return this.router.url==="/auth"||this.router.url.startsWith("/auth/")}static \u0275fac=function(o){return new(o||t)(b(l),b(p))};static \u0275cmp=n({type:t,selectors:[["app-toolbar"]],decls:1,vars:1,consts:[["color","primary",4,"ngIf"],["color","primary"],[1,"toolbar-title"],[1,"toolbar-spacer"],["matIconName","logout","matButtonContent","Logout","backGroundColor","#FFD9E1","textColor","#8F0045","waveColor","#8F0045",3,"click"]],template:function(o,e){o&1&&k(0,gt,5,0,"mat-toolbar",0),o&2&&N("ngIf",e.authService.isAuthenticated()&&!e.isLoginPage())},dependencies:[W,Q,mt,st,et,rt,tt,at],styles:[".toolbar-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;cursor:pointer}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}button[_ngcontent-%COMP%]{margin-left:8px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}button.active[_ngcontent-%COMP%]{background-color:#ffffff1a}"]})};var d=class t{title="urban-ideas";static \u0275fac=function(o){return new(o||t)};static \u0275cmp=n({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(o,e){o&1&&c(0,"app-toolbar")(1,"router-outlet")},dependencies:[X,u],encapsulation:2})};q(d,lt).catch(t=>console.error(t));
